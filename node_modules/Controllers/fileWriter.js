var fs = require('fs');

var write = function(outputFilename, dataObject) {
    fs.writeFile(outputFilename, JSON.stringify(dataObject, null, 4), function (err) {
        if (err) {
            console.log(err);
        } else {
            console.log("JSON saved to " + outputFilename);
        }
    });
}//write

var append = function (outputFilename, dataObject) {
    fs.appendFile(outputFilename, dataObject, function (err) {
        if (err) {
            console.log(err);
        } else {
            console.log("Appended to file " + outputFilename);
        }
    });
}//write

//Sync passerà il valore alla varibile - ho provato a passare il riferimento e il metodo non Sync e non funziona?!?!
var read = function(outputFilename){ 
	return JSON.parse( fs.readFileSync(outputFilename, 'utf8') ); //read
}

//Sync passerà il valore alla varibile - ho provato a passare il riferimento e il metodo non Sync e non funziona?!?!
var readText = function (outputFilename) {
    return fs.readFileSync(outputFilename, 'utf8'); //read
}

//---------- exports ---------------

exports.append = append;
exports.write = write;
exports.read = read;
exports.readText = readText;